# 3 일반적인 프로그래밍 개념

## 변수와 가변성 

let 키워드는 변수를 선언할 때 사용한다. 

const 키워드는 상수를 선언할 때 사용한다.

let은 mut을 쓰지 않더라도 키워드를 재선언해서 새로운 값으로 덮어쓰기 할 수 있다.
```rust
let x = 2;
let x = x * 2; // 4
```

다른 타입의 값으로도 덮어씌울 수 있다.
```rust
let x = "   ";
let x = x.len();
```

불변 변수는 다른 타입을 대입할 수 없다.
```rust
let mut x = "";
x = 6;  // 컴파일 에러
```


다음과 같은 문법은 허용되지 않는다.  덮어쓰기가 아니기 때문이다.
```rust
let x = 2;
x = x * 2;
```

상수는 항상 const로 쓰여야 하며 타입도 항상 함께 선언해야 한다.
```rust
const X_Y: u32 = 100_000;
```


## 데이터 타입
러스트는 고정된 타입(statically typed) 언어이다. 
이 뜻은 모든 변수의 타입은 컴파일 타임에 정해져야 한다는 것이다.


### 스칼라 타입
정수, 부동 소수점 숫자, boolean, 문자가 해당된다.

정수형은 8,16,32,64,128 bit, arch의 길이를 가지며 signed는 i, unsigned는 u로 prefix해 표현한다.
arch는 signed는 isize, unsigned는 usize로 표현되며 컴퓨터 환경에 따라 결정된다.

일반적으로 i32 타입을 쓰는게 제일 좋다. 제일 빠르기 떄문이다.


#### 패닉 
프로그램에서 에러가 발생해 중지되는 것을 러스트에서는 패닉이라고 부른다.
스칼라 타입에 명시된 비트 길이보다 큰 숫자를 변수가 가질 때 
debug 모드에서는 패닉이 발생한다.
release 모드에서는 two's complement wrapping이 적용되어 최솟값부터 다시 시작한다.

### 부동 소숫점
부동 소숫점의 기본 타입은 f32 / f64중 하나인데 기본 타입은 f64이다.



### 복합타입
튜플과 배열이 있다. 
튜플은 다른 타입의 고정된 길이의 값들을 가지며 
배열은 같은 타입의 고정된 길이 (고정된 길이가 맞다. 러스트에서 가변 길이는 벡터로 표현한다.)의 값들을 가진다.

튜플에서 값의 접근은 패턴 매칭이나 인덱싱을 사용한다.
```rust
fn main() {
    let tup: (i32, f64, u8) = (500, 6.4, 1);
    let (x, y, z) = tup;
    let five_hundred = tup.0;

    println!("The value of y is: {}", y);
}
```

배열은 다음 처럼 같은 타입의 값을 간편하게 지정할 수도 있다.
```rust
// 다른 값
let a: [i32; 5] = [1, 2, 3, 4, 5];
// 동일 값
let a = [3; 5]; // [3,3,3,3,3]

```

바운더리를 넘는 인덱싱을 시도할 경우 컴파일 타임에 패닉을 발생한다.